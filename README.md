# Тестовое задание для vk

# Описание:
Нужно написать упрощенную систему выполнения абстрактных заказов.

Есть заказчики, исполнители и система.
Заказчик публикует заказ, указывает его стоимость.
Исполнитель видит ленту заказов, доступных для исполнения.
Исполнитель кликает "выполнить" на заказе, ему на счет зачисляется сумма за вычетом комиссии системы.
У одного заказа может быть только один исполнитель. Когда заказ выполнен - он исчезает из ленты.

# Техника:
PHP (без ООП), mysql, клиентская сторона на усмотрение. Проект должен быть на гитхабе и отражать процесс разработки.

Код максимально приближенный к боевому, в частности предусмотреть вариант, когда каждая таблица располагается в отдельной базе данных.

Клиентская сторона максимально "аджаксифицирована" и поприятнее.

В результате — ссылка на гитхаб и развёрнутое демо.

Сроки на ваше усмотрение

Мы смотрим на безопасность кода, основательность подхода, целостность данных, расчет на нагрузку


# Архитектура:
- common (содержит общие функции)
- modules (подключаемые модули в зависимости от URL)
- views (ошибки и заглушки, что строятся и PHP)
- www_dynamic (тут будет PHP часть, размещаю ее на Nginx без реврайтов, то есть все запросы с морды будут идти только в index.php с параметрами)
- www_static (тут будет HTML/AngularJs часть, т.к. это статика - размещаю на Nginx.)

# Деплой
- http://static.vk.dchistyakov.ru (морда тут)
- http://dynamic.vk.dchistyakov.ru (для AJAX запросов)

# Ремарки
- Для входа под заказчикам в логине вводим: customer
- Для входа под исполнителем в логине вводим: executor
- Под системой нельзя войти, хотя этот тоже юзер с Id 1.

# БД
Создал 4 БД, в каждой по табличке:

> vk_users (пользователи)
- user (InnoDB) - т.к. финансовые операции требуют транзакций
табличка где живут пользователи, у них есть роли (user,system) для того, что бы финансовая система была замкнута)

> vk_sessions (сессии)
- session (Memory) - поставил мемори, из расчета на 1 млн сессий ~ 450 мб. Сессией считается логин.
хоть в задании и не обозначено ничего по поводу регистрации и логина, все же сделаю базовый функционал, все лучше чем смена пользователей по "клику"

> vk_orders (заказы)
- order (InnoDB) - т.к. учавствует в фин. транзакции
тут живут задания

> vk_transactions (сами транзакции)
- transaction (InnoDB)
Накопительная табличка для обеспечения целостности данных. В любой момент позволит откатить ту или иную транзакцию или посмотреть историю.


... переходим к бекенду

